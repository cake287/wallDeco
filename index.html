<!DOCTYPE html>
<html>
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>

  <style>

body > div {
  max-height: 100vh; overflow: auto;
  display: flex;
  width: 100%;
  height: 100%;
}

#canvas-holder {
  height: 95vh;
  width: 80vw;
  position: relative;
  overflow: hidden;
}

canvas {
  display: block;
  width: 100% !important;   /* fill the holder width */
  height: 100% !important;  /* fill the holder height */
  object-fit: contain;      /* or cover, depending on your preference */
}





#editor-holder {
  margin-left: 30px;

  width: 500px;
  height: 95vh;
  position: relative;

  justify-content: center;
  display: flex;

}
#editor { 
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
}

#editor-holder::after {
  content: "Error in program\aSee console for details";
  white-space: pre;
  color: #ca3636;
  font-size: 24px;
  font-weight: lighter;
  font-family: sans-serif;
  position: absolute;
  top: 100%;
  transform: translate(0, -200%);
  text-align: center;
  
  transition-property: opacity;
  transition-duration: 0.5s;

  opacity: 0;
}
#editor-holder.error::after {
  opacity: 1;
}

  </style>
</head>
<body>
<div>

<div id="canvas-holder"></div>

<div id="editor-holder">
<div id="editor">// set p5.js fill style here

// each shape is defined by polar coordinates
r; // is a integer starting from 0 at center, increasing outwards
a; // is angle of the centre of the shape in radians

t; // is the current frame number


function lerpFill(col1, col2, factor) {
  let r = lerp(col1[0], col2[0], factor);
  let g = lerp(col1[1], col2[1], factor);
  let b = lerp(col1[2], col2[2], factor);
  let a = lerp(col1[3], col2[3], factor);
  fill(r, g, b, a);
}

const colours = [
  [0, 148, 255, 255],
  [0, 200, 200, 255],
  [195, 204, 199, 255],
  [16, 97, 153, 255],
];

lerpFill(
  colours[2],
  colours[3],

  // 0.5 + 0.5 * sin(2*(1+cos(0.025*t))*a + r * 0.6 + t * 0.03)

  0.5 + 0.5 * cos(a + 1.6*Math.log(r*r+1) + t * 0.04)
  
);
</div>
</div>



</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.5.0/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="src.js" type="text/javascript" charset="utf-8"></script>
</body>
</html>